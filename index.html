<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>URL Encoder/Decoder</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Vue.js 3 CDN -->
  <script src="https://unpkg.com/vue@3"></script>
</head>
<body>

<div id="app" class="container mt-5">
  <h1 class="text-center mb-4">URL Encoder/Decoder</h1>
  
  <div class="form-check form-switch mb-4 text-center">
    <input class="form-check-input" type="checkbox" id="encodeDecodeSwitch" v-model="isEncodeMode">
    <label class="form-check-label" for="encodeDecodeSwitch">
      {{ isEncodeMode ? 'Encoding Mode' : 'Decoding Mode' }}
    </label>
  </div>

  <div class="mb-3">
    <label for="inputText" class="form-label">{{ isEncodeMode ? 'Text to Encode' : 'Text to Decode' }}</label>
    <textarea id="inputText" v-model="inputText" class="form-control" rows="4" placeholder="Enter your text here..."></textarea>
  </div>

  <button @click="processText" class="btn btn-primary w-100 mb-3">
    {{ isEncodeMode ? 'Encode' : 'Decode' }}
  </button>

  <div v-if="outputText" class="alert alert-secondary">
    <strong>Output:</strong>
    <pre>{{ outputText }}</pre>
  </div>
</div>

<script>
const { createApp } = Vue;

createApp({
  data() {
    return {
      isEncodeMode: true,
      inputText: '',
      outputText: ''
    };
  },
  methods: {
    processText() {
      if (this.isEncodeMode) {
        // Encode the URL component
        this.outputText = encodeURIComponent(this.inputText);
      } else {
        // Decode the URL component
        this.outputText = this.decodeURL(this.inputText);
      }
    },
    decodeURL(encodedUrl) {
      try {
        let decoded = decodeURIComponent(encodedUrl);
        // Keep decoding until no more encoded characters are found
        while (decoded.includes('%')) {
          decoded = decodeURIComponent(decoded);
        }
        return decoded.replace(/\\/g, ''); // Remove backslashes
      } catch (e) {
        return 'Invalid URL encoding!';
      }
    }
  }
}).mount('#app');
</script>

<!-- Bootstrap JS (Optional) -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>

</body>
</html>
